@{
    ViewBag.Title = "Times";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model List<NoeinModel.Time>

@section Styles {
    <link href="~/Content/Times.css" rel="stylesheet" type="text/css" />
}
<div class="TituloPagina">Times</div>

<div name="Body" id="Times">

    <div class="OpcoesTime">
        <button class="BotaoPadrao" id="CadastraTime">Cadastrar Time</button>
        <div class="Pesquisa">
            <input type="text" id="InputPesquisaTime" name="InputPesquisaTime" value="Pesquisar Time..." />
            <span class="glyphicon glyphicon-search" aria-hidden="true" id="PesquisaTime"></span>
            <span class="glyphicon glyphicon-remove" aria-hidden="true" id="LimpaCampoPesquisa"></span>
        </div>
    </div>
    <div class="ListaDeTimes">
        <div class="CabecalhoListaDeTimes">
            <div class="CabecalhoIdTime">
                Id
            </div>
            <div class="CabecalhoNomeTime">
                Nome
            </div>
            <div class="CabecalhoPontuacao">
                Pontuacao
            </div>
            <div class="MenuTime">
            </div>
        </div>
        <div class="CorpoDaLista">
            @if (Model == null || Model.Count == 0)
            {
                <div class="ListaVazia">Não existem times cadastrados.</div>
            }
            else
            {
                foreach (var time in Model)
                {
                    <div class="ItemListaTime" value="@time.IdTime">
                        <div class="InformacoesTime" value="@time.IdTime">
                            <div class="IdTime">@time.IdTime</div>
                            <div class="NomeTime" value="@time.NomeTime">@time.NomeTime</div>
                            <div class="Pontuacao">@time.PontuacaoGeral</div>
                            <div class="MenuTime">
                                <span class="glyphicon glyphicon-trash RemoveTime" aria-hidden="true"></span>
                                <span class="glyphicon glyphicon-time FuncaoHorarioTime" aria-hidden="true"></span>
                            </div>
                        </div>
                        <div class="ModalidadesTime">
                            @foreach (var modalidade in time.RetornaListaDeModalidade())
                            {
                                if (modalidade.Key.PossuiCriterioProprioDeGeracaoDeClassificacaoInicial)
                                {
                                    var descricao = modalidade.Key.DescricaoModalidade + "[" + modalidade.Value + "]";
                                    
                                    <div class="ItemModalidade">@descricao</div>
                                }
                                else
                                {
                                    <div class="ItemModalidade">@modalidade.Key.DescricaoModalidade</div>
                                }
                            }
                        </div>
                    </div>
                }
            }
        </div>
    </div>
    <!-- Fim Lista de Times -->
    <!-- Modal Cadastra Time -->
    <div id="ModalCadastraTime" class="modal fade" role="dialog" hidden>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header ModalHeaderPadrao">
                    <button type="button" class="close" data-dissmiss="ModalCadastraTime">&times;</button>
                    <p class="modal-title ModalCadastraTimeTituloModal">Cadastrar Time</p>
                </div>
                <div class="modal-body ModalBodyPadrao">
                    <div class="CadastraTime_InformacoesTime">
                        Nome:
                        <input type="text" id="CadastraTime_Nome" value="" />
                    </div>
                    <div class="CadastraTime_Modalidades">
                        @if (ViewBag.Modalidades != null)
                        {
                            foreach (var item in ViewBag.Modalidades)
                            {
                                var nomeLabel = "Modalidade " + item.IdModalidade;
                                <div class="CadastraTime_ItemModalidade">
                                    @if (item.PossuiCriterioProprioDeGeracaoDeClassificacaoInicial)
                                    { 
                                        <input type="number" name="@item.IdModalidade|NumeroParaCriterioDeChaveDeClassificacao" class="NumeroParaCriterioDeChaveDeClassificacao" min="0" />
                                    }
                                    else
                                    {
                                        <input type="number" name="@item.IdModalidade|NumeroParaCriterioDeChaveDeClassificacao" class="NumeroParaCriterioDeChaveDeClassificacao" disabled/>
                                    }
                                    <input type="checkbox" value="@item.IdModalidade" name="@item.IdModalidade - @item.DescricaoModalidade" class="CadastraTime_ModalidadeItem" />
                                    @item.DescricaoModalidade
                                    
                                </div>
                            }
                        }
                    </div>
                    <div class="DivBotaoCadastraTime">
                        <button id="BotaoCadastraTime" class="BotaoPadrao">Cadastrar</button>
                    </div>
                </div>
                <div class="ModalFooterPadrao">
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Cadastra Horario Time -->
    <div id="ModalFuncaoHorarioTime" class="modal fade" role="dialog" hidden>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header ModalHeaderPadrao">
                    <button type="button" class="close" data-dissmiss="ModalFuncaoHorarioTime">&times;</button>
                    <p class="modal-title ModalFuncaoHorarioTimeTituloModal"></p>
                    <input id="FuncaoHorarioTime_IdTime" type="hidden" value="" />
                </div>
                <div class="modal-body ModalBodyPadrao">
                    <div class="ListaHorarioTimes">
                        <div class="Time_Horario">
                            <div id="ListaHorarios">
                                <div class="ListaVazia">Não existem jogos Cadastrados!</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ModalFooterPadrao">
                </div>
            </div>
        </div>
    </div>
    @section scripts {
        <script type="text/javascript" src="~/Scripts/Personalizados/Times.js"></script>
    }

</div>